import { encode } from '../src/Encoder';

test("fixstr alphanumeric test", () => {
    expect(encode("abc0123")).toEqual(new Uint8Array([0xa7, 0x061, 0x062, 0x063, 0x030, 0x031, 0x032, 0x033]));
});

test("fixstr 2-byte test", () => {
    expect(encode("αβγ")).toEqual(new Uint8Array([0xa6, 0x0CE, 0x0B1, 0x0CE, 0x0B2, 0x0CE, 0x0B3]));
});

test("fixstr 3-byte characters test", () => {
    expect(encode("甲乙丙")).toEqual(new Uint8Array([0xa9, 0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099]));
});

test("str 8 alphanumeric test", () => {
    expect(encode("abc0123abc0123abc0123abc0123abc0123")).toEqual(
        new Uint8Array([0xd9, 0x023, 
            0x061, 0x062, 0x063, 0x030, 0x031, 0x032, 0x033,
            0x061, 0x062, 0x063, 0x030, 0x031, 0x032, 0x033,
            0x061, 0x062, 0x063, 0x030, 0x031, 0x032, 0x033,
            0x061, 0x062, 0x063, 0x030, 0x031, 0x032, 0x033,
            0x061, 0x062, 0x063, 0x030, 0x031, 0x032, 0x033
        ]));
});

test("str 8 chinese character test", () => {
    expect(encode("甲乙丙甲乙丙甲乙丙甲乙丙")).toEqual(
        new Uint8Array([0xd9, 0x24,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099
        ]));
});

test("str 16 chinese character test", () => {
    expect(encode("甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙甲乙丙")).toEqual(
        new Uint8Array([0xda, 0x01, 0x44,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099,
            0x0E7, 0x094, 0x0b2, 0x0E4, 0x0B9, 0x099, 0x0E4, 0x0B8, 0x099
        ]));
});